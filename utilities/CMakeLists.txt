FUNCTION(ADD_UTILITIES_EXECUTABLE name)
    CMAKE_PARSE_ARGUMENTS(UTIL "" "COMPONENT" "SOURCES;DEPENDS" ${ARGN})

    IF(NOT UTIL_DEPENDS)
        SET(UTIL_DEPENDS MultiRegions)
    ENDIF()

    ADD_NEKTAR_EXECUTABLE(${name}
        COMPONENT ${UTIL_COMPONENT} DEPENDS ${UTIL_DEPENDS} SOURCES ${UTIL_SOURCES})
ENDFUNCTION()

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/library ${CMAKE_SOURCE_DIR}/utilities)

ADD_UTILITIES_EXECUTABLE(MeshConvert COMPONENT utilities SOURCES MeshConvert.cpp)

# Generate list of available utilities
SUBDIRS(NekMesh FieldConvert Extras)
